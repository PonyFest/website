<html>
	<head>
		<title>hello</title>
		{{partial "head.html" .}}
		<link href="https://vjs.zencdn.net/7.6.6/video-js.css" rel="stylesheet" />
		<style>
		body {
			margin-left: 0;
			margin-right: 0;
		}

		.main-stream {
			width: 100%;
			background-color: black;
		}

		#stream-holder {
			margin-left: auto;
			margin-right: auto;
		}
		</style>
	</head>
	<body>
		{{partial "header.html" .}}
		<div class="main-stream">
			<div id="stream-holder">
				<video class="video-js" id="panel-stream"  controls autoplay>
					<source src="{{.Params.streamURL}}" type="application/x-mpegURL">
					<p class="vjs-no-js">more js pls</p>
				</video>
			</div>
		</div>
		<h1>Test stream</h1>
		<script src="https://vjs.zencdn.net/7.6.6/video.js"></script>
		<script>
		let player = videojs("panel-stream", {fluid: false, crossorigin: "anonymous"});
		window.onresize = () => {
			let width = window.innerWidth;
			let height = window.innerHeight - 200;
			if (height > width / 16 * 9) {
				height = width / 16 * 9;
			} else if (width > height / 9 * 16) {
				width = height / 9 * 16;
			}
			player.height(height);
			player.width(width);
			document.getElementById('stream-holder').style.width = ''+width + 'px';
		}
		window.onresize();
		</script>
	</body>
</html>
